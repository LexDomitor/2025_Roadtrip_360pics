<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>360° Panorama - Half Moon Bay</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css"/>
<link href="https://fonts.googleapis.com/css2?family=Saira:wght@400;700&display=swap" rel="stylesheet">
<style>
body {
  margin: 0;
  font-family: 'Saira', sans-serif;
  overflow: hidden;
  user-select: none;
}

#panorama {
  width: 100vw;
  height: 100vh;
}

#overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0,0,0,0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 20;
  cursor: pointer;
}

#overlay-content {
  width: 50vw;
  max-width: 90vw;
  height: 50vh;
  max-height: 90vh;
  background: rgba(255,255,255,0.2);
  backdrop-filter: blur(10px);
  padding: 20px 30px;
  border-radius: 20px;
  color: #fff;
  text-align: center;
  line-height: 1.4em;
  font-size: 1.2em;
}

#top-panel {
  position: fixed;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(255,255,255,0.35);
  backdrop-filter: blur(10px);
  padding: 10px 20px;
  border-radius: 15px;
  color: #fff;
  text-align: center;
  z-index: 15;
  display: none;
}

#video-panel {
  position: fixed;
  top: 130px; /* below top panel */
  left: 50%;
  transform: translateX(-50%);
  width: 60vw;
  max-width: 80vw;
  background: rgba(255,255,255,0.35);
  backdrop-filter: blur(10px);
  border-radius: 15px;
  padding: 10px 20px;
  color: #fff;
  text-align: center;
  display: none;
  z-index: 16;
}

#video-panel a {
  color: #0af;
  text-decoration: underline;
  cursor: pointer;
}

#license-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background: rgba(255,255,255,0.35);
  backdrop-filter: blur(10px);
  color: #fff;
  padding: 10px 20px;
  font-size: 14px;
  z-index: 10;
  overflow-x: auto;
  white-space: nowrap;
}

.instructions {
  margin-top:15px;
}

.instructions h3 {
  text-decoration: underline;
}

.instructions ul {
  padding-left:20px;
}

.instructions li::before {
  content: '• ';
}

#here-link {
  text-decoration: underline;
  cursor: pointer;
  color: #0af;
}
</style>
</head>
<body>

<div id="panorama"></div>

<div id="overlay">
  <div id="overlay-content">
    <p>Hi, I'm Lex, a nobody magician who enjoys travel, tech and research. These images are from my recent travels in Northern California taken with a DJI OSMO 360 camera at 120 MP.  

If you would like to see my other work click <span id="here-link">here</span>.</p>
    <p class="instructions">
      <h3>Instructions</h3>
      <ul>
        <li>Click and drag to look around</li>
        <li>Scroll to zoom in/out</li>
        <li>Use fullscreen button for best experience</li>
      </ul>
    </p>
    <p style="color:#ccc; margin-top:10px;">Click Anywhere to dismiss this message</p>
  </div>
</div>

<div id="top-panel">
  Manhattan Beach at Half Moon Bay, California located in the San Francisco Bay Area. The Ritz-Carlton can be seen on the distant cliffs. The coastal shores are lined with miles of golf courses.
</div>

<div id="video-panel">
  <a href="https://www.youtube.com/watch?v=sfYM1-_WbWk" target="_blank">Click Here to Watch a 360 Video of this Location</a>
  <p style="color:#ccc; font-size:0.9em; margin-top:5px;">Click Anywhere to Dismiss this Video</p>
</div>

<div id="license-bar">Loading license...</div>

<script src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"></script>
<script>
const viewer = pannellum.viewer('panorama', {
  type: "equirectangular",
  panorama: "https://i.imgur.com/FYdmUI3.jpeg",
  autoLoad: true,
  compass: false,
  showZoomCtrl: false,
  showFullscreenCtrl: true,
  hfov: 100
});

const overlay = document.getElementById('overlay');
const topPanel = document.getElementById('top-panel');
const videoPanel = document.getElementById('video-panel');

overlay.addEventListener('click', () => {
  overlay.style.display = 'none';
  topPanel.style.display = 'block';
  videoPanel.style.display = 'block';
});

// Load LICENSE
fetch('LICENSE').then(r => r.ok ? r.text() : 'LICENSE file not found.').then(text => {
  document.getElementById('license-bar').textContent = text;
});

// "here" link preview
document.getElementById('here-link').addEventListener('click', e => {
  e.stopPropagation(); // don't dismiss overlay
  window.open('https://linktr.ee/lexofdystopia','_blank');
});

// Dismiss video panel if clicked outside link
videoPanel.addEventListener('click', (e) => e.stopPropagation());
document.addEventListener('click', (e) => {
  if (!videoPanel.contains(e.target) && videoPanel.style.display === 'block') {
    videoPanel.style.display = 'none';
  }
});
</script>
</body>
</html>
