<script>
// Immediately load LICENSE before anything else
const footerBar = document.getElementById('footerBar');

fetch('LICENSE') // adjust path if needed
  .then(r => {
      if (!r.ok) throw new Error('Not found');
      return r.text();
  })
  .then(txt => footerBar.textContent = txt)
  .catch(() => footerBar.textContent = 'Â© 2025. Do not distribute.');
</script>

<script src="https://cdn.jsdelivr.net/npm/three@0.155.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photo-sphere-viewer@4/dist/photo-sphere-viewer.js"></script>
<script>
// Initialize Photo Sphere Viewer only after footer started loading
const overlay = document.getElementById('instructionOverlay');

overlay.onclick = ()=>overlay.style.display='none';

const viewer = new PhotoSphereViewer.Viewer({
    container: document.getElementById('viewer'),
    panorama: 'halfmoonbay4k360.jpg', // local 360 image
    defaultYaw: 0,
    navbar: ['zoom', 'fullscreen'],
    mousewheel: true,
    touchmoveTwoFingers: true,
    moveSpeed: 1.0
});

// Disable right-click
document.addEventListener('contextmenu', e => e.preventDefault());
</script>
